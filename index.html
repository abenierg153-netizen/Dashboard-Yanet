<!DOCTYPE html>
<html lang="en" x-data="dashboard()" x-init="init()">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yanet Dental Clinic Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://unpkg.com/htmx.org@1.7.0"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-100 font-sans">

    <!-- Sticky Bottom Menu -->
    <div class="fixed bottom-0 left-0 right-0 bg-white shadow-lg p-2 md:hidden z-50">
        <div class="flex justify-around">
            <button @click="activeTab='dashboard'" :class="activeTab==='dashboard' ? 'text-blue-600' : 'text-gray-600'">Dashboard</button>
            <button @click="activeTab='appointments'" :class="activeTab==='appointments' ? 'text-blue-600' : 'text-gray-600'">Appointments</button>
            <button @click="activeTab='patients'" :class="activeTab==='patients' ? 'text-blue-600' : 'text-gray-600'">Patients</button>
            <button @click="activeTab='reports'" :class="activeTab==='reports' ? 'text-blue-600' : 'text-gray-600'">Reports</button>
            <button @click="activeTab='settings'" :class="activeTab==='settings' ? 'text-blue-600' : 'text-gray-600'">Settings</button>
            <button @click="activeTab='service'" :class="activeTab==='service' ? 'text-blue-600' : 'text-gray-600'">Service</button>
            <button @click="activeTab='feedback'" :class="activeTab==='feedback' ? 'text-blue-600' : 'text-gray-600'">Feedback</button>
        </div>
    </div>

    <div class="min-h-screen pb-20">
        <!-- Header -->
        <header class="bg-white shadow">
            <div class="container mx-auto flex justify-between items-center p-4">
                <div class="flex items-center">
                    <img src="logo.png" alt="Yanet Dental Clinic" class="h-8">
                    <h1 class="ml-2 text-xl font-bold">Yanet Dental Clinic</h1>
                </div>
            </div>
        </header>

        <!-- Dashboard -->
        <section x-show="activeTab==='dashboard'" x-transition class="container mx-auto p-4 space-y-4">
            <h2 class="text-2xl font-bold">Dashboard Overview</h2>

            <!-- Live Stats Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white p-4 rounded-lg shadow">
                    <h3 class="font-semibold">Appointments Today</h3>
                    <p class="text-2xl" x-text="stats.appointments"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow">
                    <h3 class="font-semibold">New Patients Today</h3>
                    <p class="text-2xl" x-text="stats.newPatients"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow">
                    <h3 class="font-semibold">Happy Patients</h3>
                    <p class="text-2xl" x-text="stats.happyPatients"></p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow">
                    <h3 class="font-semibold">Upcoming Appointments</h3>
                    <ul>
                        <template x-for="appt in stats.upcomingAppointments" :key="appt.time">
                            <li x-text="`${appt.patient} - ${appt.time}`"></li>
                        </template>
                    </ul>
                </div>
            </div>

            <!-- AI Insights -->
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 p-6 rounded-lg border border-purple-200">
                <h3 class="font-semibold mb-2">AI Insights</h3>
                <ul class="space-y-2">
                    <li x-text="aiInsights[0]"></li>
                    <li x-text="aiInsights[1]"></li>
                    <li x-text="aiInsights[2]"></li>
                </ul>
            </div>

            <!-- Quick Action Buttons -->
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4">
                <button class="bg-blue-600 text-white p-4 rounded-lg shadow hover:shadow-md" @click="quickAction('viewAppointments')">View Appointments</button>
                <button class="bg-green-600 text-white p-4 rounded-lg shadow hover:shadow-md" @click="quickAction('callPatient')">Call Patient</button>
                <button class="bg-yellow-600 text-white p-4 rounded-lg shadow hover:shadow-md" @click="quickAction('exportReport')">Export Report</button>
                <button class="bg-purple-600 text-white p-4 rounded-lg shadow hover:shadow-md" @click="quickAction('addAppointment')">Add Appointment</button>
            </div>
        </section>

        <!-- Appointments -->
        <section x-show="activeTab==='appointments'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Appointments</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow">
                <table class="min-w-full border">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="border px-4 py-2">Time</th>
                            <th class="border px-4 py-2">Patient</th>
                            <th class="border px-4 py-2">Service</th>
                            <th class="border px-4 py-2">Status</th>
                            <th class="border px-4 py-2">Dentist</th>
                            <th class="border px-4 py-2">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <template x-for="appt in appointments" :key="appt.id">
                            <tr class="hover:bg-gray-50">
                                <td class="border px-4 py-2" x-text="appt.time"></td>
                                <td class="border px-4 py-2" x-text="appt.patient"></td>
                                <td class="border px-4 py-2" x-text="appt.service"></td>
                                <td class="border px-4 py-2" :class="{'text-green-500': appt.status==='Confirmed','text-red-500': appt.status==='Cancelled'}" x-text="appt.status"></td>
                                <td class="border px-4 py-2" x-text="appt.dentist"></td>
                                <td class="border px-4 py-2 space-x-2">
                                    <button class="text-blue-600" @click="updateStatus(appt,'Confirmed')">Confirm</button>
                                    <button class="text-red-600" @click="updateStatus(appt,'Cancelled')">Cancel</button>
                                </td>
                            </tr>
                        </template>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Patients -->
        <section x-show="activeTab==='patients'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Patients</h2>
            <div class="bg-white p-4 rounded-lg shadow space-y-4">
                <p>Total Patients: <span x-text="patients.total"></span></p>
                <p>New Patients Today: <span x-text="patients.newToday"></span></p>
            </div>
        </section>

        <!-- Reports -->
        <section x-show="activeTab==='reports'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Reports</h2>
            <div class="bg-white p-4 rounded-lg shadow space-y-2">
                <button class="bg-blue-600 text-white px-4 py-2 rounded" @click="exportReport('appointments')">Export Appointments CSV</button>
                <button class="bg-green-600 text-white px-4 py-2 rounded" @click="exportReport('patients')">Export Patients CSV</button>
            </div>
        </section>

        <!-- Settings -->
        <section x-show="activeTab==='settings'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Settings & Staff Performance</h2>
            <div class="bg-white p-4 rounded-lg shadow space-y-2">
                <h3 class="font-semibold">Clinic Info</h3>
                <p>Address: 123 Dental St.</p>
                <p>Contact: (123) 456-7890</p>
                <p>Hours: Mon-Fri, 9 AM - 5 PM</p>
                <h3 class="font-semibold mt-4">Staff Performance</h3>
                <div x-for="staff in staffPerformance" :key="staff.name" class="flex justify-between border-b py-1">
                    <span x-text="staff.name"></span>
                    <span x-text="staff.appointments + ' appointments'"></span>
                </div>
            </div>
        </section>

        <!-- Service -->
        <section x-show="activeTab==='service'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Services</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <template x-for="service in services" :key="service.id">
                    <div class="bg-white p-4 rounded-lg shadow">
                        <h3 class="font-semibold" x-text="service.name"></h3>
                        <p x-text="service.description"></p>
                        <p class="font-bold mt-2" x-text="'$'+service.price"></p>
                    </div>
                </template>
            </div>
        </section>

        <!-- Feedback -->
        <section x-show="activeTab==='feedback'" x-transition class="container mx-auto p-4">
            <h2 class="text-2xl font-bold mb-4">Feedback</h2>
            <ul class="bg-white p-4 rounded-lg shadow space-y-2">
                <template x-for="fb in feedbacks" :key="fb.id">
                    <li x-text="fb.patient + ' - ' + fb.rating + ' - ' + fb.comment"></li>
                </template>
            </ul>
        </section>

    </div>

    <script>
        function dashboard() {
            return {
                activeTab: 'dashboard',
                stats: {
                    appointments: 5,
                    newPatients: 3,
                    happyPatients: 120,
                    upcomingAppointments: [
                        { patient: 'John Doe', time: '10:00 AM' },
                        { patient: 'Jane Smith', time: '11:30 AM' },
                        { patient: 'Mark Wilson', time: '1:00 PM' },
                    ]
                },
                aiInsights: [
                    "High demand for Cleaning services predicted today.",
                    "2 appointments likely no-show, reminder sent.",
                    "Facial treatments revenue expected to increase by 12%."
                ],
                appointments: [
                    { id: 1, time: '10:00 AM', patient: 'John Doe', service: 'Cleaning', status: 'Confirmed', dentist: 'Dr. Smith' },
                    { id: 2, time: '11:30 AM', patient: 'Jane Smith', service: 'Filling', status: 'Confirmed', dentist: 'Dr. Lee' },
                    { id: 3, time: '1:00 PM', patient: 'Mark Wilson', service: 'Whitening', status: 'Cancelled', dentist: 'Dr. Kim' },
                ],
                patients: { total: 150, newToday: 3 },
                staffPerformance: [
                    { name: 'Dr. Smith', appointments: 12 },
                    { name: 'Dr. Lee', appointments: 10 },
                    { name: 'Dr. Kim', appointments: 8 },
                ],
                services: [
                    { id: 1, name: 'Cleaning', description: 'Teeth cleaning', price: 120 },
                    { id: 2, name: 'Whitening', description: 'Teeth whitening', price: 200 },
                    { id: 3, name: 'Filling', description: 'Cavity filling', price: 150 },
                ],
                feedbacks: [
                    { id: 1, patient: 'John Doe', rating: '⭐⭐⭐⭐', comment: 'Great service!' },
                    { id: 2, patient: 'Jane Smith', rating: '⭐⭐⭐', comment: 'Good experience.' },
                ],
                init() {
                    // Example: Live stats simulation
                    setInterval(() => {
                        this.stats.appointments = Math.floor(Math.random() * 10) + 1;
                        this.stats.newPatients = Math.floor(Math.random() * 5) + 1;
                    }, 5000);
                },
                updateStatus(appt, status) {
                    appt.status = status;
                },
                quickAction(action) {
                    alert("Action: " + action);
                },
                exportReport(type) {
                    alert("Exporting: " + type);
                }
            }
        }
    </script>

</body>

</html>
